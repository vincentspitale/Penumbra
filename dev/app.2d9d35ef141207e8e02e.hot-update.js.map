{"version":3,"file":"app.2d9d35ef141207e8e02e.hot-update.js","sources":["/Users/vincentspitale/Developer/Web/dark-learning/src/components/toggle/toggle.js"],"sourcesContent":["/*global chrome*/\n\nimport React, {Component} from \"react\"\n\n\n\nclass Toggle extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            isDark: true,\n        }\n\n    }\n\n    insertCode(tabId) {   \n        chrome.tabs.insertCSS(tabId, {\n            code: this.cssCode(),\n            allFrames: true,\n            runAt: \"document_start\"\n        });\n    }\n\n\n    cssCode() {\n    return this.state.isDark ?\n        \"video, embed {  -webkit-filter: invert(100%) grayscale(100%); } \" :\n        \"video, embed {  -webkit-filter: none; } \";\n    }\n    \n    updateTabs() {\n        chrome.tabs.query({}, function (tabs) {\n            for (var i=0; i<tabs.length; ++i) {\n                var tab = tabs[i];\n                if (tab.url && tab.url.slice(0,4) == \"http\")\n                    this.insertCode(tab.id);\n            }\n        })\n    }\n    \n\n    toggle() {\n        this.setState({isDark: !this.state.isDark})\n        this.updateTabs()\n    }\n\n    render() { \n        return <button onClick={() => this.toggle()}>{this.state.isDark ? \"Disable Invert\" : \"Enable Invert\"}</button>\n    }\n\n    \n\n}\n\nexport default Toggle"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AAGA;AACA;AACA;AAEA;AACA;AADA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AA5CA;AACA;AAgDA;;;;A","sourceRoot":""}